/*! aikuaike 0.1.0 2014-09-28 */
!function(a){function b(b,e){var f,g,h,i=this,j=b.add(i),k=a(window),l=a.tools.expose&&(e.mask||e.expose),m=Math.random().toString().slice(10);l&&("string"==typeof l&&(l={color:l}),l.closeOnClick=l.closeOnEsc=!1);var n=e.target||b.attr("rel");if(g=n?a(n):null||b,!g.length)throw"Could not find Overlay: "+n;b&&-1==b.index(g)&&b.click(function(a){return i.load(a),a.preventDefault()}),a.extend(i,{load:function(b){if(i.isOpened())return i;var f=d[e.effect];if(!f)throw'Overlay: cannot find effect : "'+e.effect+'"';if(e.oneInstance&&a.each(c,function(){this.close(b)}),b=b||a.Event(),b.type="onBeforeLoad",j.trigger(b),b.isDefaultPrevented())return i;h=!0,l&&a(g).expose(l);var n=e.top,o=e.left,p=g.outerWidth({margin:!0}),q=g.outerHeight({margin:!0});return"string"==typeof n&&(n="center"==n?Math.max((k.height()-q)/2,0):parseInt(n,10)/100*k.height()),"center"==o&&(o=Math.max((k.width()-p)/2,0)),f[0].call(i,{top:n,left:o},function(){h&&(b.type="onLoad",j.trigger(b))}),l&&e.closeOnClick&&a.mask.getMask().one("click",i.close),e.closeOnClick&&a(document).on("click."+m,function(b){a(b.target).parents(g).length||i.close(b)}),e.closeOnEsc&&a(document).on("keydown."+m,function(a){27==a.keyCode&&i.close(a)}),i},close:function(b){return i.isOpened()?(b=b||a.Event(),b.type="onBeforeClose",j.trigger(b),b.isDefaultPrevented()?void 0:(h=!1,d[e.effect][1].call(i,function(){b.type="onClose",j.trigger(b)}),a(document).off("click."+m+" keydown."+m),l&&a.mask.close(),i)):i},getOverlay:function(){return g},getTrigger:function(){return b},getClosers:function(){return f},isOpened:function(){return h},getConf:function(){return e}}),a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(b,c){a.isFunction(e[c])&&a(i).on(c,e[c]),i[c]=function(b){return b&&a(i).on(c,b),i}}),f=g.find(e.close||".close"),!f.length&&!e.close&&(f=a('<a class="close"></a>'),g.prepend(f)),f.click(function(a){i.close(a)}),e.load&&i.load()}a.tools=a.tools||{version:"v1.2.7"},a.tools.overlay={addEffect:function(a,b,c){d[a]=[b,c]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var c=[],d={};a.tools.overlay.addEffect("default",function(b,c){var d=this.getConf(),e=a(window);d.fixed||(b.top+=e.scrollTop(),b.left+=e.scrollLeft()),b.position=d.fixed?"fixed":"absolute",this.getOverlay().css(b).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)}),a.fn.overlay=function(d){var e=this.data("overlay");return e?e:(a.isFunction(d)&&(d={onBeforeLoad:d}),d=a.extend(!0,{},a.tools.overlay.conf,d),this.each(function(){e=new b(a(this),d),c.push(e),a(this).data("overlay",e)}),d.api?e:this)}}(jQuery),function(a){function b(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}function c(c,e){var f=this,g=c.add(f),h=c.children(),i=0,j=e.vertical;if(d||(d=f),h.length>1&&(h=a(e.items,c)),e.size>1&&(e.circular=!1),a.extend(f,{getConf:function(){return e},getIndex:function(){return i},getSize:function(){return f.getItems().size()},getNaviButtons:function(){return n.add(o)},getRoot:function(){return c},getItemWrap:function(){return h},getItems:function(){return h.find(e.item).not("."+e.clonedClass)},move:function(a,b){return f.seekTo(i+a,b)},next:function(a){return f.move(e.size,a)},prev:function(a){return f.move(-e.size,a)},begin:function(a){return f.seekTo(0,a)},end:function(a){return f.seekTo(f.getSize()-1,a)},focus:function(){return d=f,f},addItem:function(b){return b=a(b),e.circular?(h.children().last().before(b),h.children().first().replaceWith(b.clone().addClass(e.clonedClass))):(h.append(b),o.removeClass("disabled")),g.trigger("onAddItem",[b]),f},seekTo:function(b,c,k){if(b.jquery||(b*=1),e.circular&&0===b&&-1==i&&0!==c)return f;if(0==f.getSize())return f;if(!e.circular&&0>b||b>f.getSize()||-1>b)return f;var l=b;b.jquery?b=f.getItems().index(b):l=f.getItems().eq(b);var m=a.Event("onBeforeSeek");if(!k&&(g.trigger(m,[b,c]),m.isDefaultPrevented()||!l.length))return f;var n=j?{top:-l.position().top}:{left:-l.position().left};return i=b,d=f,void 0===c&&(c=e.speed),h.animate(n,c,e.easing,k||function(){g.trigger("onSeek",[b])}),f}}),a.each(["onBeforeSeek","onSeek","onAddItem"],function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.circular){var k=f.getItems().slice(-1).clone().prependTo(h),l=f.getItems().eq(1).clone().appendTo(h);k.add(l).addClass(e.clonedClass),f.onBeforeSeek(function(a,b,c){if(!a.isDefaultPrevented()){if(-1==b)return f.seekTo(k,c,function(){f.end(0)}),a.preventDefault();b==f.getSize()&&f.seekTo(l,c,function(){f.begin(0)})}});var m=c.parents().add(c).filter(function(){return"none"===a(this).css("display")?!0:void 0});m.length?(m.show(),f.seekTo(0,0,function(){}),m.hide()):f.seekTo(0,0,function(){})}var n=b(c,e.prev).click(function(a){a.stopPropagation(),f.prev()}),o=b(c,e.next).click(function(a){a.stopPropagation(),f.next()});if(e.circular||(f.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(n.toggleClass(e.disabledClass,0>=b),o.toggleClass(e.disabledClass,b>=f.getSize()-1))},1)}),e.initialIndex||n.addClass(e.disabledClass)),f.getSize()<2&&n.add(o).addClass(e.disabledClass),e.mousewheel&&a.fn.mousewheel&&c.mousewheel(function(a,b){return e.mousewheel?(f.move(0>b?1:-1,e.wheelSpeed||50),!1):void 0}),e.touch){var p={};h[0].ontouchstart=function(a){var b=a.touches[0];p.x=b.clientX,p.y=b.clientY},h[0].ontouchmove=function(a){if(1==a.touches.length&&!h.is(":animated")){var b=a.touches[0],c=p.x-b.clientX,d=p.y-b.clientY;f[j&&d>0||!j&&c>0?"next":"prev"](),a.preventDefault()}}}e.keyboard&&a(document).on("keydown.scrollable",function(b){if(!(!e.keyboard||b.altKey||b.ctrlKey||b.metaKey||a(b.target).is(":input"))){if("static"!=e.keyboard&&d!=f)return;var c=b.keyCode;if(j&&(38==c||40==c))return f.move(38==c?-1:1),b.preventDefault();if(!j&&(37==c||39==c))return f.move(37==c?-1:1),b.preventDefault()}}),e.initialIndex&&f.seekTo(e.initialIndex,0,function(){})}a.tools=a.tools||{version:"v1.2.7"},a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var d;a.fn.scrollable=function(b){var d=this.data("scrollable");return d?d:(b=a.extend({},a.tools.scrollable.conf,b),this.each(function(){d=new c(a(this),b),a(this).data("scrollable",d)}),b.api?d:this)}}(jQuery),function(a){var b=a.tools.scrollable;b.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},a.fn.autoscroll=function(c){"number"==typeof c&&(c={interval:c});var d,e=a.extend({},b.autoscroll.conf,c);return this.each(function(){function b(){c&&clearTimeout(c),c=setTimeout(function(){f.next()},e.interval)}var c,f=a(this).data("scrollable"),g=f.getRoot(),h=!1;return 0==f.getSize()?f:(f&&(d=f),f.play=function(){c||(h=!1,g.on("onSeek",b),b())},f.pause=function(){c=clearTimeout(c),g.off("onSeek",b)},f.resume=function(){h||f.play()},f.stop=function(){h=!0,f.pause()},e.autopause&&g.add(f.getNaviButtons()).hover(f.pause,f.resume),e.autoplay&&f.play(),void 0)}),e.api?d:this}}(jQuery),function(a){function b(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}var c=a.tools.scrollable;c.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},a.fn.navigator=function(d){"string"==typeof d&&(d={navi:d}),d=a.extend({},c.navigator.conf,d);var e;return this.each(function(){function c(a,b,c){h.seekTo(b),c.preventDefault(),l&&history.pushState({i:b},"")}function f(){return i.find(d.naviItem||"> *")}function g(b){var e=a("<"+(d.naviItem||"a")+"/>").click(function(d){c(a(this),b,d)});return 0===b&&e.addClass(k),d.indexed&&e.text(b+1),d.idPrefix&&e.attr("id",d.idPrefix+b),e.appendTo(i)}var h=a(this).data("scrollable"),i=d.navi.jquery?d.navi:b(h.getRoot(),d.navi),j=h.getNaviButtons(),k=d.activeClass,l=d.history&&history.pushState,m=h.getConf().size;h&&(e=h),h.getNaviButtons=function(){return j.add(i)},l&&(history.pushState({i:0},""),a(window).on("popstate",function(a){var b=a.originalEvent.state;b&&h.seekTo(b.i)})),f().length?f().each(function(b){a(this).click(function(d){c(a(this),b,d)})}):a.each(h.getItems(),function(a){a%m==0&&g(a)}),h.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=b/m,d=f().eq(c);d.length&&f().removeClass(k).eq(c).addClass(k)}},1)}),h.onAddItem(function(a,b){var c=h.getItems().index(b);c%m==0&&g(c)})}),d.api?e:this}}(jQuery);