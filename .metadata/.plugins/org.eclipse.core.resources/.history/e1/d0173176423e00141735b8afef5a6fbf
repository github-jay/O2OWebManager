package com.o2oweb.action;

import java.util.List;

import javax.annotation.Resource;

import net.sf.json.JSONArray;
import net.sf.json.JSONObject;

import org.hibernate.criterion.Criterion;
import org.hibernate.criterion.DetachedCriteria;
import org.hibernate.criterion.Order;
import org.hibernate.criterion.Restrictions;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Service;

import com.o2oweb.common.dao.support.Page;
import com.o2oweb.entity.Itemlevel;
import com.o2oweb.service.ItemLevelService;
import com.o2oweb.util.BaseAction;
import com.o2oweb.util.MyJson;

@Scope("request")
@Service("itemLevelAction")
public class ItemLevelAction extends BaseAction {

	private ItemLevelService itemLevelService;
	private Integer itemLevelId;
	private Integer surperId = 0;
	private String levelName;

	public void save() {
		Itemlevel itemLevel = new Itemlevel(surperId, levelName);

		this.itemLevelService.save(itemLevel);

		writeResponse("true");
	}

	public void remove() {
		Itemlevel itemLevel = new Itemlevel();
		itemLevel.setIdItemLevel(itemLevelId);

		this.itemLevelService.remove(itemLevel);

		writeResponse("true");
	}

	public void update() {
		Itemlevel itemLevel = new Itemlevel(surperId, levelName);
		itemLevel.setIdItemLevel(itemLevelId);

		this.itemLevelService.update(itemLevel);

		writeResponse("true");
	}

	public void getItemLevel() {
		Itemlevel itemLevel = this.itemLevelService.getLevel(itemLevelId);

		JSONObject obj = JSONObject.fromObject(itemLevel);
		writeResponse(obj.toString());
	}

	public void getAttributesByitemLevelId() {
		List<itemLevel> attributes = this.itemLevelService
				.getAttributes(itemLevelId);

		JSONArray array = JSONArray.fromObject(attributes);
		writeResponse(array.toString());
	}

	public ItemLevelService getItemLevelService() {
		return itemLevelService;
	}

	@Resource
	public void setItemLevelService(ItemLevelService itemLevelService) {
		this.itemLevelService = itemLevelService;
	}

	public Integer getIdItemLevel() {
		return idItemLevel;
	}

	public void setIdItemLevel(Integer idItemLevel) {
		this.idItemLevel = idItemLevel;
	}

	public Integer getSurperId() {
		return surperId;
	}

	public void setSurperId(Integer surperId) {
		this.surperId = surperId;
	}

	public String getLevelName() {
		return levelName;
	}

	public void setLevelName(String levelName) {
		this.levelName = levelName;
	}
}
