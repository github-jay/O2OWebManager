package com.o2oweb.action;

import java.util.Date;
import java.util.List;

import javax.annotation.Resource;

import net.sf.json.JSONArray;
import net.sf.json.JSONObject;

import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Service;

import com.o2oweb.entity.Order;
import com.o2oweb.service.OrderService;
import com.o2oweb.util.BaseAction;

@Scope("request")
@Service("orderAction")
public class OrderAction extends BaseAction {

	private OrderService orderService;
	private Integer orderId;
    private String orderNum;
    private Integer userId;
    private Date startTime;
    private Date finishTime;
    private String orderName;
    private String address;
    private boolean isPaied;
    private boolean chekOut;

	public void save() {
		order order = new order(surperId, levelName);

		this.orderService.save(order);

		writeResponse("true");
	}

	public void remove() {
		order order = new order();
		order.setIdorder(orderId);

		this.orderService.remove(order);

		writeResponse("true");
	}

	public void update() {
		order order = new order(surperId, levelName);
		order.setIdorder(orderId);

		this.orderService.update(order);

		writeResponse("true");
	}

	public void getorder() {
		order order = this.orderService.getLevel(orderId);

		JSONObject obj = JSONObject.fromObject(order);
		writeResponse(obj.toString());
	}

	public void getAllLevel() {
		List<order> levels = this.orderService.getAllLevel(levelId);

		JSONArray array = JSONArray.fromObject(levels);
		writeResponse(array.toString());
	}

	public void getNextLevels() {
		List<order> levels = this.orderService.getNextLevels(levelId);

		JSONArray array = JSONArray.fromObject(levels);
		writeResponse(array.toString());
	}

	public orderService getorderService() {
		return orderService;
	}

	@Resource
	public void setorderService(orderService orderService) {
		this.orderService = orderService;
	}

	public Integer getSurperId() {
		return surperId;
	}

	public void setSurperId(Integer surperId) {
		this.surperId = surperId;
	}

	public String getLevelName() {
		return levelName;
	}

	public void setLevelName(String levelName) {
		this.levelName = levelName;
	}

	public Integer getorderId() {
		return orderId;
	}

	public void setorderId(Integer orderId) {
		this.orderId = orderId;
	}

	public Integer getLevelId() {
		return levelId;
	}

	public void setLevelId(Integer levelId) {
		this.levelId = levelId;
	}
}
